{"mappings":"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","sources":["src/js/modal.js","src/js/pagination.js","src/js/movie-template.js","src/js/movies-container.js","src/js/movie-search.js"],"sourcesContent":["const close = document.querySelector('.close_modal_window');\r\nconst modal = document.querySelector('.modal_window');\r\nconst main = document.querySelector('main');\r\nconst innerModal = document.querySelector('.modal_inner');\r\n\r\nfunction onCloseModal() {\r\n  modal.classList.add('is-hidden');\r\n  innerModal.innerHTML = '';\r\n  document.body.classList.remove('stop-scrolling');\r\n}\r\nfunction onCloseModalEscKey(e) {\r\n  if (e.code === 'Escape') {\r\n    onCloseModal();\r\n    modal.removeEventListener('click', onCloseModal);\r\n    document.body.classList.remove('stop-scrolling');\r\n  }\r\n}\r\n\r\nmain.addEventListener('click', onShowModal);\r\nclose.addEventListener('click', onCloseModal);\r\ndocument.body.addEventListener('keydown', onCloseModalEscKey);\r\ndocument.body.addEventListener('click', onCloseModalClick);\r\n\r\nasync function onShowModal(e) {\r\n  e.preventDefault();\r\n  if (!e.target.classList.contains('movie__image')) {\r\n    return;\r\n  } else {\r\n    modal.classList.remove('is-hidden');\r\n    const selectedMovieId = e.target.id;\r\n    getMovie(selectedMovieId);\r\n    document.body.classList.add('stop-scrolling');\r\n  }\r\n}\r\n\r\nfunction onCloseModalClick(e) {\r\n  if (e.target === modal) {\r\n    onCloseModal();\r\n    document.body.classList.remove('stop-scrolling');\r\n    modal.removeEventListener('click', onCloseModal);\r\n  }\r\n}\r\n\r\nasync function getMovie(movieId) {\r\n  try {\r\n    const response = await fetch(\r\n      `https://api.themoviedb.org/3/movie/${movieId}?api_key=28f50cf3f177782503c21b43af04c7bc`,\r\n    );\r\n    const movieInformation = await response.json();\r\n    getMovieAndUpdateUI(movieInformation);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nasync function getMovieAndUpdateUI(movie) {\r\n  try {\r\n    const { desktop, tablet, mobile } = `https://image.tmdb.org/t/p/original${movie.poster_path}`;\r\n    const modalMarkup = `\r\n      <div class=\"modalMarkup trailer__picture\">\r\n         <picture>\r\n            <source src= ${desktop} media=\"(min-width: 1200px)\">\r\n            <source src= ${tablet} media=\"(min-width: 768px)\">\r\n            <source src= ${mobile} media=\"(min-width: 320px)\">\r\n            <img src= https://image.tmdb.org/t/p/original${movie.poster_path} \r\n            alt=${movie.title} \r\n            id =${movie.id} class=\"modal__img\">\r\n        </picture>\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" \r\n        width=\"70px\" height=\"70px\" \r\n        class=\"modal__svg\" \r\n        id=${movie.id}\r\n        viewBox=\"0 0 16 16\">\r\n         <path \r\n         id=${movie.id} d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\r\n         <path\r\n         id=${\r\n           movie.id\r\n         } d=\"M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z\"/>\r\n        </svg>\r\n      </div>\r\n      <div class=\"modal__content-movie \">\r\n\r\n\r\n        <p class=\"modal__title\">${movie.title}</p>\r\n        <div class=\"modal__box\">\r\n          <div class=\"film-features\">\r\n            <p class=\"film-features__text\">Vote / Votes</p>\r\n            <p class=\"film-features__text\">Popularity</p>\r\n            <p class=\"film-features__text\">Original Title</p>\r\n            <p class=\"film-features__text\">Genre</p>\r\n          </div>\r\n          <div class=\"film-values\">\r\n            <p class=\"film-values__text\">\r\n              <span class=\"film-values__vote film-values__vote--color\">${movie.vote_average}</span>\r\n              <span class=\"film-values__slash\">/</span>\r\n              <span class=\"film-values__vote film-values__votes--color\">${movie.vote_count}</span>\r\n            </p>\r\n            <p class=\"film-values__text\">\r\n              <span class=\"film-value__vote\">${movie.popularity.toFixed(1)}</span>\r\n            </p>\r\n            <p class=\"film-values__text\">\r\n              <span class=\"film-values__vote\">${movie.original_title}</span>\r\n            </p>\r\n            <p class=\"film-values__text\">\r\n              <span class=\"film-values__vote\">${movie.genres[0].name}</span>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal__description\">\r\n          <p class=\"modal__about\">About</p>\r\n          <p class=\"modal__text\">${movie.overview}</p>\r\n        </div>\r\n        <div class=\"modal__btn-box\">\r\n          <button \r\n          class=\"modal__btn modal__btn--watched\" \r\n          id=\"${movie.id}\" type=\"button\" >Add to watched</button>\r\n          <button \r\n          class=\"modal__btn modal__btn--queue\"\r\n          id=\"${movie.id}\" type=\"button\" >Add to queue</button>\r\n\r\n        </div>\r\n      </div>`;\r\n\r\n    innerModal.insertAdjacentHTML('beforeend', modalMarkup);\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n","import { getPopularMoviesData } from './movie-template';\r\nimport Pagination from 'tui-pagination';\r\n\r\nconst options = {\r\n  totalItems: 1000,\r\n  itemsPerPage: 20,\r\n  visiblePages: 5,\r\n  page: 1,\r\n  centerAlign: true,\r\n  template: {\r\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\r\n    currentPage: '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\r\n    moveButton:\r\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\r\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\r\n      '</a>',\r\n    disabledMoveButton:\r\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\r\n      '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\r\n      '</span>',\r\n    moreButton:\r\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' + '<span>⋅⋅⋅</span>' + '</a>',\r\n  },\r\n};\r\n\r\nconst pagination = new Pagination('pagination', options);\r\n\r\npagination.on('afterMove', function (eventData) {\r\n  window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  const currentPage = eventData.page;\r\n  const startIndex = (currentPage - 1) * options.itemsPerPage;\r\n  const endIndex = startIndex + options.itemsPerPage;\r\n\r\n  if (currentPage > 1) {\r\n    getPopularMoviesData(startIndex, endIndex);\r\n  }\r\n});\r\n\r\nexport default pagination;\r\n","import pagination from './pagination';\r\nimport { Spinner } from 'spin.js';\r\nimport { opts } from './spinner';\r\n\r\nconst main = document.querySelector('main');\r\n\r\n//TWORZENIE SZABLONU FILMU NA STRONĘ GŁÓWNĄ\r\nconst createMainMovieTemplateHTML = (image, id, title, genres, year) => {\r\n  const twoGenres = genres && genres.length > 0 ? genres.slice(0, 2).join(', ') : '';\r\n  return `<li class=\"movie__template\">\r\n    <img class=\"movie__image\" id=\"${id}\" src=\"${image}\" alt='${title}' loading=\"lazy\" width=\"280px\" height=\"398px\"/> \r\n    <h5 class=\"movie__title\">${title}</h5>\r\n    <div class=\"movie__informations\"><span>${twoGenres}</span> | <span>${year}</span></div>\r\n  </li>`;\r\n};\r\n\r\nconst createMainMovieTemplate = async movies => {\r\n  const moviesList = await Promise.all(\r\n    movies.map(async movie => {\r\n      const image = movie.poster_path\r\n        ? `https://image.tmdb.org/t/p/original${movie.poster_path}`\r\n        : 'default-image-url';\r\n      const id = movie.id;\r\n      const title = movie.title ? movie.title : movie.name;\r\n      const movieDate = movie.release_date ? movie.release_date : movie.first_air_date;\r\n      const year = new Date(movieDate).getFullYear();\r\n      const arrayOfGenresIds = movie.genre_ids;\r\n      const genres = await getGenresData(arrayOfGenresIds);\r\n      return createMainMovieTemplateHTML(image, id, title, genres, year);\r\n    }),\r\n  );\r\n  main.innerHTML = moviesList.join('');\r\n};\r\n\r\n//SZUKANIE nazwy gatunku filmu po jego ID\r\nconst searchIdForName = (data, arrayOfIds) => {\r\n  const names = data\r\n    .filter(d => arrayOfIds.includes(d.id))\r\n    .map(d => {\r\n      return d.name;\r\n    });\r\n  return names;\r\n};\r\n\r\n//FETCH listy gatunków filmów (id, name)\r\nconst getGenresData = async arrayOfIds => {\r\n  try {\r\n    const response = await fetch(\r\n      'https://api.themoviedb.org/3/genre/movie/list?api_key=28f50cf3f177782503c21b43af04c7bc',\r\n    );\r\n    const data = await response.json();\r\n    const genresData = await data.genres;\r\n    if (arrayOfIds) {\r\n      const names = searchIdForName(genresData, arrayOfIds);\r\n      return names;\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nconst spinner = new Spinner(opts).spin();\r\nconst loader = document.getElementById('loader');\r\n\r\n//FETCH najpopularniejszych na dziś filmów\r\nexport const getPopularMoviesData = async page => {\r\n  if (spinner.el instanceof Node) {\r\n    loader.appendChild(spinner.el);\r\n  }\r\n\r\n  const url = `https://api.themoviedb.org/3/trending/all/day?api_key=28f50cf3f177782503c21b43af04c7bc&page=${page}`;\r\n  try {\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    const popularMovies = await data.results;\r\n    createMainMovieTemplate(popularMovies);\r\n    pagination.getCurrentPage(page);\r\n  } catch (error) {\r\n    console.log(error);\r\n  } finally {\r\n    spinner.stop();\r\n  }\r\n};\r\n\r\npagination.on('afterMove', evt => {\r\n  getPopularMoviesData(evt.page);\r\n});\r\n\r\ngetPopularMoviesData(1);\r\n\r\nconst libraries = {\r\n  createMainMovieTemplateHTML,\r\n  createMainMovieTemplate,\r\n  searchIdForName,\r\n  getGenresData,\r\n};\r\n\r\nexport default libraries;\r\n","const mainElement = document.querySelector('main');\r\nmainElement.classList.add('movies-container');\r\n","import { Spinner } from 'spin.js';\r\nimport { opts } from './spinner';\r\nimport pagination from './pagination';\r\n\r\nconst searchMoviesForm = document.querySelector('#form');\r\nconst searchMovieInput = document.querySelector('#topSearch');\r\nconst main = document.querySelector('main');\r\nconst searchErrorMsg = document.querySelector('.error-msg');\r\nconst paginationTemplate = document.querySelector('#pagination');\r\n\r\nlet page = 1;\r\nconst API_KEY = '28f50cf3f177782503c21b43af04c7bc';\r\nconst SEARCH_API = `https://api.themoviedb.org/3/search/movie?&api_key=${API_KEY}&page=${page}&query=`;\r\n\r\nconst spinner = new Spinner(opts).spin();\r\nconst loader = document.getElementById('loader');\r\n\r\nsearchErrorMsg.classList.add('is-hidden');\r\n\r\nconst getResults = async url => {\r\n  try {\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    showResults(data.results);\r\n    getGenresData(data.genres);\r\n    pagination.reset();\r\n\r\n    if (data.results.length === 0) {\r\n      searchErrorMsg.classList.remove('is-hidden');\r\n      main.innerHTML = '';\r\n      paginationTemplate.classList.add('is-hidden');\r\n      return;\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nconst searchPoster = movie => {\r\n  let posterPath = movie.poster_path ? movie.poster_path : movie.backdrop_path;\r\n  if (posterPath === null) {\r\n    return 'https://images.pexels.com/photos/5721902/pexels-photo-5721902.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2';\r\n  } else {\r\n    return `https://image.tmdb.org/t/p/original${posterPath}`;\r\n  }\r\n};\r\n\r\nconst showResults = movies => {\r\n  main.innerHTML = '';\r\n  movies.forEach(async movie => {\r\n    let { id, title, genres, year } = movie;\r\n    let IMAGE_PATH = searchPoster(movie);\r\n    const movieDate = movie.release_date ? movie.release_date : movie.first_air_date;\r\n    year = new Date(movieDate).getFullYear();\r\n    genres = await getGenresData(movie.genre_ids);\r\n    id = movie.id;\r\n\r\n    const movieElement = document.createElement('div');\r\n\r\n    movieElement.innerHTML = `<li class=\"movie__template\">\r\n    <img class=\"movie__image\" id=\"${id}\" src=\"${IMAGE_PATH}\" alt='${title}' loading=\"lazy\" width=\"280px\" height=\"398px\"/> \r\n    <h5 class=\"movie__title\">${title}</h5>\r\n    <div class=\"movie__informations\"><span>${genres}</span> | <span>${year}</span></div>\r\n  </li>`;\r\n    main.appendChild(movieElement);\r\n  });\r\n};\r\n\r\nconst searchIdForName = (data, arrayOfIds) => {\r\n  const names = data\r\n    .filter(d => arrayOfIds.includes(d.id))\r\n    .map(d => {\r\n      return d.name;\r\n    });\r\n  return names;\r\n};\r\n\r\nconst getGenresData = async arrayOfIds => {\r\n  loader.appendChild(spinner.el);\r\n  try {\r\n    const GENRES_PATH = `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}`;\r\n    const response = await fetch(GENRES_PATH);\r\n    const data = await response.json();\r\n    const genresData = await data.genres;\r\n    if (arrayOfIds) {\r\n      const names = searchIdForName(genresData, arrayOfIds);\r\n      return names;\r\n    }\r\n  } catch (error) {\r\n    console.log(error);\r\n  } finally {\r\n    spinner.stop();\r\n  }\r\n};\r\n\r\nsearchMoviesForm.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n  window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  const query = searchMovieInput.value;\r\n  if (query) {\r\n    getResults(SEARCH_API + query);\r\n    searchMovieInput.value = '';\r\n  }\r\n});\r\n\r\npagination.on('afterMove', e => {\r\n  getResults(e.page);\r\n});\r\n"],"names":["$2ea800676e6f7669$var$close","document","querySelector","$2ea800676e6f7669$var$modal","$2ea800676e6f7669$var$main","$2ea800676e6f7669$var$innerModal","$2ea800676e6f7669$var$onCloseModal","classList","add","innerHTML","body","remove","addEventListener","async","e","preventDefault","target","contains","movieId","response","fetch","movie","desktop","tablet","mobile","poster_path","modalMarkup","title","id","vote_average","vote_count","popularity","toFixed","original_title","genres","name","overview","insertAdjacentHTML","console","log","$2ea800676e6f7669$var$getMovieAndUpdateUI","json","error","$2ea800676e6f7669$var$getMovie","code","removeEventListener","$baa48fd5a30d32e8$var$options","totalItems","itemsPerPage","visiblePages","page","centerAlign","template","currentPage","moveButton","disabledMoveButton","moreButton","$baa48fd5a30d32e8$var$pagination","$parcel$interopDefault","$afPuq","on","eventData","window","scrollTo","top","behavior","startIndex","$e5202c063a16b44b$export$2447330bd6559d4d","$baa48fd5a30d32e8$export$2e2bcd8739ae039","$e5202c063a16b44b$var$main","$e5202c063a16b44b$var$createMainMovieTemplateHTML","image","year","length","slice","join","$e5202c063a16b44b$var$createMainMovieTemplate","movies","moviesList","Promise","all","map","movieDate","release_date","first_air_date","Date","getFullYear","arrayOfGenresIds","genre_ids","$e5202c063a16b44b$var$getGenresData","$e5202c063a16b44b$var$searchIdForName","data","arrayOfIds","filter","d","includes","genresData","$e5202c063a16b44b$var$spinner","$c3H7h","Spinner","$3bAln","opts","spin","$e5202c063a16b44b$var$loader","getElementById","el","Node","appendChild","url","popularMovies","results","getCurrentPage","stop","evt","parcelRequire","$f3910828a2f1dbdd$var$searchMoviesForm","$f3910828a2f1dbdd$var$searchMovieInput","$f3910828a2f1dbdd$var$main","$f3910828a2f1dbdd$var$searchErrorMsg","$f3910828a2f1dbdd$var$paginationTemplate","$f3910828a2f1dbdd$var$API_KEY","$f3910828a2f1dbdd$var$SEARCH_API","$f3910828a2f1dbdd$var$spinner","$f3910828a2f1dbdd$var$loader","$f3910828a2f1dbdd$var$getResults","$f3910828a2f1dbdd$var$showResults","$f3910828a2f1dbdd$var$getGenresData","reset","forEach","IMAGE_PATH","posterPath","backdrop_path","$f3910828a2f1dbdd$var$searchPoster","movieElement","createElement","GENRES_PATH","names","$f3910828a2f1dbdd$var$searchIdForName","query","value"],"version":3,"file":"index.44e9f838.js.map"}
var e={};const t=document.querySelector("main"),a=async e=>{try{const t=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=28f50cf3f177782503c21b43af04c7bc"),a=await t.json(),i=await a.genres;if(e){const t=((e,t)=>e.filter((e=>t.includes(e.id))).map((e=>e.name)))(i,e);return t}}catch(e){console.log(e)}};(async()=>{try{const e=await fetch("https://api.themoviedb.org/3/trending/all/day?api_key=28f50cf3f177782503c21b43af04c7bc"),i=await e.json();(async e=>{const i=await Promise.all(e.map((async e=>{const t=`https://image.tmdb.org/t/p/original${e.poster_path}`,i=e.title?e.title:e.name,n=e.release_date?e.release_date:e.first_air_date,s=new Date(n).getFullYear(),o=e.genre_ids;return((e,t,a,i)=>`<li class="movie__template">\n    <img class="movie__image" src="${e}" alt='${t}' width="280px" height="398px"/> \n    <h5 class="movie__title">${t}</h5>\n    <div class="movie__informations"><span>${a.slice(0,2).join(", ")}</span> | <span>${i}</span></div>\n  </li>`)(t,i,await a(o),s)})));t.innerHTML=i.join("")})(await i.results)}catch(e){console.log(e)}})();const i=document.querySelector(".close_modal_window"),n=document.querySelector(".modal_window"),s=document.querySelector("main");document.querySelector(".movie__template");console.log(s),i.addEventListener("click",(()=>{n.style.display="none"})),s.addEventListener("click",(async function(t){n.classList.remove("is-hidden");const a=t.target;console.log(a),async function(t){await(0,e.createMovieFeature)(t);n.classList.remove("is-hidden")}(a)}));
//# sourceMappingURL=index.338f940b.js.map

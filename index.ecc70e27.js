const e=document.querySelector("main"),a=async e=>{try{const a=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=28f50cf3f177782503c21b43af04c7bc"),t=await a.json(),i=await t.genres;if(e){const a=((e,a)=>e.filter((e=>a.includes(e.id))).map((e=>e.name)))(i,e);return a}}catch(e){console.log(e)}};(async()=>{try{const t=await fetch("https://api.themoviedb.org/3/trending/all/week?api_key=28f50cf3f177782503c21b43af04c7bc"),i=await t.json();(async t=>{const i=await Promise.all(t.map((async e=>{const t=`https://image.tmdb.org/t/p/original${e.poster_path}`,i=e.title?e.title:e.name,s=e.release_date?e.release_date:e.first_air_date,n=new Date(s).getFullYear(),c=e.vote_average.toFixed(1),o=e.genre_ids;return((e,a,t,i,s)=>`<li class="movie__template">\n    <img class="movie__image" src="${e}" alt='${a}' width="280px" height="398px"/> \n    <h5 class="movie__title">${a}</h5>\n    <div class="movie__informations"><span>${t.slice(0,2).join(", ")}</span> | <span>${i}</span>\n    <span class="movie__rating">${s}</span></div>\n  </li>`)(t,i,await a(o),n,c)})));e.innerHTML=i.join("")})(await i.results)}catch(e){console.log(e)}})();
//# sourceMappingURL=index.ecc70e27.js.map

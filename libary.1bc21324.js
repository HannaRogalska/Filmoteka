const e=document.querySelector(".btn-watched"),t=document.querySelector(".btn-queue"),a=document.querySelector(".library"),s="watched",o=async e=>{const t=await Promise.all(e.map((async e=>{const t=await(async e=>{const t=`https://api.themoviedb.org/3/movie/${e}?api_key=28f50cf3f177782503c21b43af04c7bc`;try{const e=await fetch(t);return await e.json()}catch(e){console.error(e)}})(e),a=(e=>{let t=e.poster_path?e.poster_path:e.backdrop_path;return null===t?"https://images.pexels.com/photos/5721902/pexels-photo-5721902.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2":`https://image.tmdb.org/t/p/original${t}`})(t),s=t.title?t.title:t.name,o=t.release_date?t.release_date:t.first_air_date,n=new Date(o).getFullYear(),r=t.vote_average.toFixed(1),c=t.genres[0].name;return console.log(c),((e,t,a,s,o,n)=>`<li class="movie__template">\n    <img class="movie__image" id="${t}" src="${e}" alt='${a}' width="280px" height="398px"/>\n    <h5 class="movie__title">${a}</h5>\n    <div class="movie__informations"><span>${s}</span> | <span>${o}</span>\n    <span class="movie__rating">${n}</span></div>\n  </li>`)(a,e,s,c,n,r)})));a.innerHTML=t.join("")},n=e=>{try{const t=localStorage.getItem(e),a=JSON.parse(t);if(null===a)return;o(a),console.log("array:",a)}catch(e){console.error(e.message)}};n(s),e.addEventListener("click",(()=>{n(s)})),t.addEventListener("click",(()=>{n("queue")}));
//# sourceMappingURL=libary.1bc21324.js.map

{"mappings":"AACA,MAAMA,EAAQC,SAASC,cAAc,uBAC/BC,EAAQF,SAASC,cAAc,iBAErCF,EAAMI,iBAAiB,SAAS,KAC5BD,EAAME,MAAMC,QAAU,UCL1B,MAGMC,EAAON,SAASC,cAAc,QAqC9BM,EAAgBC,MAAMC,IAC1B,IACE,MAAMC,QAAiBC,MACrB,0FAEIC,QAAaF,EAASG,OACtBC,QAAmBF,EAAKG,OAC9B,GAAIN,EAAY,CACd,MAAMO,EAjBY,EAACJ,EAAMH,IACfG,EACXK,QAAOC,GAAKT,EAAWU,SAASD,EAAEE,MAClCC,KAAIH,GACIA,EAAEI,OAaKC,CAAgBT,EAAYL,GAC1C,OAAOO,CACT,CAGF,CAFE,MAAOQ,GACPC,QAAQC,IAAIF,EACd,GAG2BhB,WAC3B,IACE,MAAME,QAAiBC,MAzDzB,2FA0DQC,QAAaF,EAASG,OA5CLL,OAAMmB,IAC/B,MAAMC,QAAmBC,QAAQC,IAC/BH,EAAON,KAAIb,MAAMuB,IACf,MAAMC,EAAQ,sCAAsCD,EAAME,cACpDC,EAAQH,EAAMG,MAAQH,EAAMG,MAAQH,EAAMT,KAC1Ca,EAAYJ,EAAMK,aAAeL,EAAMK,aAAeL,EAAMM,eAC5DC,EAAO,IAAIC,KAAKJ,GAAWK,cAC3BC,EAASV,EAAMW,aAAaC,QAAQ,GACpCC,EAAmBb,EAAMc,UAE/B,MApByB,EAACb,EAAOE,EAAOnB,EAAQuB,EAAMG,IAEnD,oEAC4BT,WAAeE,oEACrBA,sDAHXnB,EAAO+B,MAAM,EAAG,GAAGC,KAAK,wBAI6BT,6CACvCG,0BAcrBO,CAAuBhB,EAAOE,QADhB3B,EAAcqC,GACiBN,EAAMG,EAAA,KAG9DnC,EAAK2C,UAAYrB,EAAWmB,KAAK,KAiC/BG,OAD4BtC,EAAKuC,QAInC,CAFE,MAAO3B,GACPC,QAAQC,IAAIF,EACd,GAGF4B","sources":["src/JS/modal.js","src/JS/movie-template.js"],"sourcesContent":["\nconst close = document.querySelector('.close_modal_window');\nconst modal = document.querySelector('.modal_window');\n\nclose.addEventListener('click', () => {\n    modal.style.display = 'none'\n})\n\n\n","const url =\n  'https://api.themoviedb.org/3/trending/all/week?api_key=28f50cf3f177782503c21b43af04c7bc';\n\nconst main = document.querySelector('main');\n\nconst createMovieFeatureHTML = (image, title, genres, year, rating) => {\n  const twoGenres = genres.slice(0, 2).join(', ');\n  return `<li class=\"movie__template\">\n    <img class=\"movie__image\" src=\"${image}\" alt='${title}' width=\"280px\" height=\"398px\"/> \n    <h5 class=\"movie__title\">${title}</h5>\n    <div class=\"movie__informations\"><span>${twoGenres}</span> | <span>${year}</span>\n    <span class=\"movie__rating\">${rating}</span></div>\n  </li>`;\n};\n\nconst createMovieFeature = async movies => {\n  const moviesList = await Promise.all(\n    movies.map(async movie => {\n      const image = `https://image.tmdb.org/t/p/original${movie.poster_path}`;\n      const title = movie.title ? movie.title : movie.name;\n      const movieDate = movie.release_date ? movie.release_date : movie.first_air_date;\n      const year = new Date(movieDate).getFullYear();\n      const rating = movie.vote_average.toFixed(1);\n      const arrayOfGenresIds = movie.genre_ids;\n      const genres = await getGenresData(arrayOfGenresIds);\n      return createMovieFeatureHTML(image, title, genres, year, rating);\n    }),\n  );\n  main.innerHTML = moviesList.join('');\n};\n\nconst searchIdForName = (data, arrayOfIds) => {\n  const names = data\n    .filter(d => arrayOfIds.includes(d.id))\n    .map(d => {\n      return d.name;\n    });\n  return names;\n};\n\nconst getGenresData = async arrayOfIds => {\n  try {\n    const response = await fetch(\n      'https://api.themoviedb.org/3/genre/movie/list?api_key=28f50cf3f177782503c21b43af04c7bc',\n    );\n    const data = await response.json();\n    const genresData = await data.genres;\n    if (arrayOfIds) {\n      const names = searchIdForName(genresData, arrayOfIds);\n      return names;\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst getPopularMoviesData = async () => {\n  try {\n    const response = await fetch(url);\n    const data = await response.json();\n    const popularMovies = await data.results;\n    createMovieFeature(popularMovies);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\ngetPopularMoviesData();\n\n// const createMovieFeature = async movie => {\n//   const movieDate = movie.release_date ? movie.release_date : movie.first_air_date;\n//   const movieYear = new Date(movieDate).getFullYear();\n//   const movieRating = movie.vote_average.toFixed(1);\n//   const movieImage = `https://image.tmdb.org/t/p/original${movie.poster_path}`;\n//   const arrayOfGenresIds = movie.genre_ids;\n\n//   const arrayOfGenreNames = await getGenreNameById(arrayOfGenresIds);\n//   const genreNamesList = arrayOfGenreNames.join(', ');\n\n//   const movieFeatureHTML = `<li class=\"movie__feature\">\n//     <img class=\"movie__image\" src=\"${movieImage}\" alt='${\n//     movie.title ? movie.title : movie.name\n//   }' width=\"280px\" height=\"398px\"/>\n//       <h5 class=\"movie__title\">${movie.title ? movie.title : movie.name}</h5>\n//       <div class=\"movie__informations\"><span>${genreNamesList}</span> | <span>${movieYear}</span></div>\n//       <div>${movieRating}</div>\n//     </li>`;\n//   return movieFeatureHTML;\n// };\n\n// const createMovieFeature = async movies => {\n//   const moviesList = await Promise.all(\n//     movies.map(async movie => {\n//       const image = `https://image.tmdb.org/t/p/original${movie.poster_path}`;\n//       const title = movie.title ? movie.title : movie.name;\n//       const movieDate = movie.release_date ? movie.release_date : movie.first_air_date;\n//       const year = new Date(movieDate).getFullYear();\n//       const rating = movie.vote_average.toFixed(1);\n//       const arrayOfGenresIds = movie.genre_ids;\n//       const genres = await getGenresData(arrayOfGenresIds);\n//       return createMovieFeatureHTML(image, title, genres, year, rating);\n//     }),\n//   );\n//   main.innerHTML = moviesList.join('');\n// };\n\n// const createMovieList = async movies => {\n//   const moviesList = await Promise.all(\n//     movies.map(async movie => {\n//       return await createMovieFeature(movie);\n//     }),\n//   );\n//   main.innerHTML = moviesList.join('');\n// };\n\n// const createMovieFeature = async movie => {\n//   const image = `https://image.tmdb.org/t/p/original${movie.poster_path}`;\n//   const title = movie.title ? movie.title : movie.name;\n//   const movieDate = movie.release_date ? movie.release_date : movie.first_air_date;\n//   const year = new Date(movieDate).getFullYear();\n//   const rating = movie.vote_average ? movie.vote_average.toFixed(1) : '';\n//   const arrayOfGenresIds = movie.genre_ids;\n//   const genres = await getGenresData(arrayOfGenresIds);\n//   return createMovieFeatureHTML(image, title, genres, year, rating);\n// };\n"],"names":["$52c9fbd2920a6736$var$close","document","querySelector","$52c9fbd2920a6736$var$modal","addEventListener","style","display","$0324c45f15d03b16$var$main","$0324c45f15d03b16$var$getGenresData","async","arrayOfIds","response","fetch","data","json","genresData","genres","names","filter","d","includes","id","map","name","$0324c45f15d03b16$var$searchIdForName","error","console","log","movies","moviesList","Promise","all","movie","image","poster_path","title","movieDate","release_date","first_air_date","year","Date","getFullYear","rating","vote_average","toFixed","arrayOfGenresIds","genre_ids","slice","join","$0324c45f15d03b16$var$createMovieFeatureHTML","innerHTML","$0324c45f15d03b16$var$createMovieFeature","results","$0324c45f15d03b16$var$getPopularMoviesData"],"version":3,"file":"index.7cb89c7f.js.map"}